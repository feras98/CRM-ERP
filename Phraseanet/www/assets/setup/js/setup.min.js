!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return o.raw?t:encodeURIComponent(t)}function s(t){return o.raw?t:decodeURIComponent(t)}function i(t){return e(o.json?JSON.stringify(t):String(t))}function n(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(a," ")),o.json?JSON.parse(t):t}catch(e){}}function r(e,s){var i=o.raw?e:n(e);return t.isFunction(s)?s(i):i}var a=/\+/g,o=t.cookie=function(n,a,u){if(void 0!==a&&!t.isFunction(a)){if(u=t.extend({},o.defaults,u),"number"==typeof u.expires){var l=u.expires,d=u.expires=new Date;d.setTime(+d+864e5*l)}return document.cookie=[e(n),"=",i(a),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}for(var c=n?void 0:{},h=document.cookie?document.cookie.split("; "):[],m=0,f=h.length;m<f;m++){var g=h[m].split("="),p=s(g.shift()),v=g.join("=");if(n&&n===p){c=r(v,a);break}n||void 0===(v=r(v))||(c[p]=v)}return c};o.defaults={},t.removeCookie=function(e,s){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},s,{expires:-1})),!t.cookie(e))}}),function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&void 0);var s=t.data(this[0],"validator");return s?s:(s=new t.validator(e,this[0]),t.data(this[0],"validator",s),s.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){s.cancelSubmit=!0}),s.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){s.submitButton=this}),this.submit(function(e){function i(){if(s.settings.submitHandler){if(s.submitButton)var e=t("<input type='hidden'/>").attr("name",s.submitButton.name).val(s.submitButton.value).appendTo(s.currentForm);return s.settings.submitHandler.call(s,s.currentForm),s.submitButton&&e.remove(),!1}return!0}return s.settings.debug&&e.preventDefault(),s.cancelSubmit?(s.cancelSubmit=!1,i()):s.form()?s.pendingRequest?(s.formSubmitted=!0,!1):i():(s.focusInvalid(),!1)})),s)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,s=t(this[0].form).validate();return this.each(function(){e&=s.element(this)}),e},removeAttrs:function(e){var s={},i=this;return t.each(e.split(/\s/),function(t,e){s[e]=i.attr(e),i.removeAttr(e)}),s},rules:function(e,s){var i=this[0];if(e){var n=t.data(i.form,"validator").settings,r=n.rules,a=t.validator.staticRules(i);switch(e){case"add":t.extend(a,t.validator.normalizeRule(s)),r[i.name]=a,s.messages&&(n.messages[i.name]=t.extend(n.messages[i.name],s.messages));break;case"remove":if(!s)return delete r[i.name],a;var o={};return t.each(s.split(/\s/),function(t,e){o[e]=a[e],delete a[e]}),o}}var u=t.validator.normalizeRules(t.extend({},t.validator.metadataRules(i),t.validator.classRules(i),t.validator.attributeRules(i),t.validator.staticRules(i)),i);if(u.required){var l=u.required;delete u.required,u=t.extend({required:l},u)}return u}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+e.value)},filled:function(e){return!!t.trim(""+e.value)},unchecked:function(t){return!t.checked}}),t.validator=function(e,s){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=s,this.init()},t.validator.format=function(e,s){return 1==arguments.length?function(){var s=t.makeArray(arguments);return s.unshift(e),t.validator.format.apply(this,s)}:(arguments.length>2&&s.constructor!=Array&&(s=t.makeArray(arguments).slice(1)),s.constructor!=Array&&(s=[s]),t.each(s,function(t,s){e=e.replace(new RegExp("\\{"+t+"\\}","g"),s)}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t){(t.name in this.submitted||t==this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,s,i){t(e).addClass(s).removeClass(i)},unhighlight:function(e,s,i){t(e).removeClass(s).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var s=t.data(this[0].form,"validator"),i="on"+e.type.replace(/^validate/,"");s.settings[i]&&s.settings[i].call(s,this[0])}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var s=this.groups={};t.each(this.settings.groups,function(e,i){t.each(i.split(/\s/),function(t,i){s[i]=e})});var i=this.settings.rules;t.each(i,function(e,s){i[e]=t.validator.normalizeRule(s)}),t(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",e).validateDelegate(":radio, :checkbox, select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.clean(e),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var s=this.check(e);return s?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),s},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var s in e)this.errorList.push({message:e[s],element:this.findByName(s)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var s in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1==t.grep(this.errorList,function(t){return t.element.name==e.name}).length&&e},elements:function(){var e=this,s={};return t([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&void 0,!(this.name in s||!e.objectLength(t(this).rules()))&&(s[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){return t(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},check:function(e){e=this.clean(e),this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]);var s=t(e).rules(),i=!1;for(var n in s){var r={method:n,parameters:s[n]};try{var a=t.validator.methods[n].call(this,e.value.replace(/\r/g,""),e,r.parameters);if("dependency-mismatch"==a){i=!0;continue}if(i=!1,"pending"==a)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!a)return this.formatAndAdd(e,r),!1}catch(o){throw this.settings.debug&&window.console&&void 0,o}}if(!i)return this.objectLength(s)&&this.successList.push(e),!0},customMetaMessage:function(e,s){if(t.metadata){var i=this.settings.meta?t(e).metadata()[this.settings.meta]:t(e).metadata();return i&&i.messages&&i.messages[s]}},customMessage:function(t,e){var s=this.settings.messages[t];return s&&(s.constructor==String?s:s[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,s){return this.findDefined(this.customMessage(e.name,s),this.customMetaMessage(e,s),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[s],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(t,e){var s=this.defaultMessage(t,e.method),i=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,e.parameters,t):i.test(s)&&(s=jQuery.format(s.replace(i,"{$1}"),e.parameters)),this.errorList.push({message:s,element:t}),this.errorMap[t.name]=s,this.submitted[t.name]=s},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){for(var t=0;this.errorList[t];t++){var e=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass),this.showLabel(e.element,e.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(var t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(var t=0,s=this.validElements();s[t];t++)this.settings.unhighlight.call(this,s[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,s){var i=this.errorsFor(e);i.length?(i.removeClass().addClass(this.settings.errorClass),i.attr("generated")&&i.html(s)):(i=t("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(e),generated:!0}).addClass(this.settings.errorClass).html(s||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,t(e)):i.insertAfter(e))),!s&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i)),this.toShow=this.toShow.add(i)},errorsFor:function(e){var s=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")==s})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){var s=this.currentForm;return t(document.getElementsByName(e)).map(function(t,i){return i.form==s&&i.name==e&&i||null})},getLength:function(e,s){switch(s.nodeName.toLowerCase()){case"select":return t("option:selected",s).length;case"input":if(this.checkable(s))return this.findByName(s.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t,e){return t},string:function(e,s){return!!t(e,s.form).length},"function":function(t,e){return t(e)}},optional:function(e){return!t.validator.methods.required.call(this,t.trim(e.value),e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,s){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],s&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!s&&0==this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,s){e.constructor==String?this.classRuleSettings[e]=s:t.extend(this.classRuleSettings,e)},classRules:function(e){var s={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(s,t.validator.classRuleSettings[this])}),s},attributeRules:function(e){var s={},i=t(e);for(var n in t.validator.methods){var r=i.attr(n);r&&(s[n]=r)}return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},metadataRules:function(e){if(!t.metadata)return{};var s=t.data(e.form,"validator").settings.meta;return s?t(e).metadata()[s]:t(e).metadata()},staticRules:function(e){var s={},i=t.data(e.form,"validator");return i.settings.rules&&(s=t.validator.normalizeRule(i.settings.rules[e.name])||{}),s},normalizeRules:function(e,s){return t.each(e,function(i,n){if(n===!1)return void delete e[i];if(n.param||n.depends){var r=!0;switch(typeof n.depends){case"string":r=!!t(n.depends,s.form).length;break;case"function":r=n.depends.call(s,s)}r?e[i]=void 0===n.param||n.param:delete e[i]}}),t.each(e,function(i,n){e[i]=t.isFunction(n)?n(s):n}),t.each(["minlength","maxlength","min","max"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){e[this]&&(e[this]=[Number(e[this][0]),Number(e[this][1])])}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e.messages&&delete e.messages,e},normalizeRule:function(e){if("string"==typeof e){var s={};t.each(e.split(/\s/),function(){s[this]=!0}),e=s}return e},addMethod:function(e,s,i){t.validator.methods[e]=s,t.validator.messages[e]=void 0!=i?i:t.validator.messages[e],s.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,s,i){if(!this.depend(i,s))return"dependency-mismatch";switch(s.nodeName.toLowerCase()){case"select":var n=t(s).val();return n&&n.length>0;case"input":if(this.checkable(s))return this.getLength(e,s)>0;default:return t.trim(e).length>0}},remote:function(e,s,i){if(this.optional(s))return"dependency-mismatch";var n=this.previousValue(s);if(this.settings.messages[s.name]||(this.settings.messages[s.name]={}),n.originalMessage=this.settings.messages[s.name].remote,this.settings.messages[s.name].remote=n.message,i="string"==typeof i&&{url:i}||i,this.pending[s.name])return"pending";if(n.old===e)return n.valid;n.old=e;var r=this;this.startRequest(s);var a={};return a[s.name]=e,t.ajax(t.extend(!0,{url:i,mode:"abort",port:"validate"+s.name,dataType:"json",data:a,success:function(i){r.settings.messages[s.name].remote=n.originalMessage;var a=i===!0;if(a){var o=r.formSubmitted;r.prepareElement(s),r.formSubmitted=o,r.successList.push(s),r.showErrors()}else{var u={},l=n.message=i||r.defaultMessage(s,"remote");u[s.name]=t.isFunction(l)?l(e):l,r.showErrors(u)}n.valid=a,r.stopRequest(s,a)}},i)),"pending"},minlength:function(e,s,i){return this.optional(s)||this.getLength(t.trim(e),s)>=i},maxlength:function(e,s,i){return this.optional(s)||this.getLength(t.trim(e),s)<=i},rangelength:function(e,s,i){var n=this.getLength(t.trim(e),s);return this.optional(s)||n>=i[0]&&n<=i[1]},min:function(t,e,s){return this.optional(e)||t>=s},max:function(t,e,s){return this.optional(e)||t<=s},range:function(t,e,s){return this.optional(e)||t>=s[0]&&t<=s[1]},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t))},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9-]+/.test(t))return!1;var s=0,i=0,n=!1;t=t.replace(/\D/g,"");for(var r=t.length-1;r>=0;r--){var a=t.charAt(r),i=parseInt(a,10);n&&(i*=2)>9&&(i-=9),s+=i,n=!n}return s%10==0},accept:function(t,e,s){return s="string"==typeof s?s.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp(".("+s+")$","i"))},equalTo:function(e,s,i){var n=t(i).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(s).valid()});return e==n.val()}}}),t.format=t.validator.format}(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,s,i){var n=t.port;"abort"==t.mode&&(e[n]&&e[n].abort(),e[n]=i)});else{var s=t.ajax;t.ajax=function(i){var n=("mode"in i?i:t.ajaxSettings).mode,r=("port"in i?i:t.ajaxSettings).port;return"abort"==n?(e[r]&&e[r].abort(),e[r]=s.apply(this,arguments)):s.apply(this,arguments)}}}(jQuery),function(t){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||t.each({focus:"focusin",blur:"focusout"},function(e,s){function i(e){return e=t.event.fix(e),e.type=s,t.event.handle.call(this,e)}t.event.special[s]={setup:function(){this.addEventListener(e,i,!0)},teardown:function(){this.removeEventListener(e,i,!0)},handler:function(e){return arguments[0]=t.event.fix(e),arguments[0].type=s,t.event.handle.apply(this,arguments)}}}),t.extend(t.fn,{validateDelegate:function(e,s,i){return this.bind(s,function(s){var n=t(s.target);if(n.is(e))return i.apply(n,arguments)})}})}(jQuery),function(t){function e(t,e){return{rate:t,messageKey:e}}function s(t){return t.substring(0,1).toLowerCase()+t.substring(1)}var i=/[a-z]/,n=/[A-Z]/,r=/[0-9]/,a=/[0-9].*[0-9]/,o=/[^a-zA-Z0-9]/,u=/^(.)\1+$/;t.validator.passwordRating=function(t,l){if(!t||t.length<8)return e(0,"too-short");if(l&&t.toLowerCase().match(l.toLowerCase()))return e(0,"similar-to-username");if(u.test(t))return e(1,"very-weak");var d=i.test(t),c=n.test(s(t)),h=r.test(t),m=a.test(t),f=o.test(t);return d&&c&&h||d&&m||c&&m||f?e(4,"strong"):d&&c||d&&h||c&&h?e(3,"good"):e(2,"weak")},t.validator.passwordRating.messages={"similar-to-username":"Too similar to username","too-short":"Too short","very-weak":"Very weak",weak:"Weak",good:"Good",strong:"Strong"},t.validator.addMethod("password",function(e,s,i){var n=s.value,r=t("boolean"!=typeof i?i:[]),a=t.validator.passwordRating(n,r.val()),o=t(".password-meter",s.form);return o.find(".password-meter-bar").removeClass().addClass("password-meter-bar").addClass("password-meter-"+a.messageKey),o.find(".password-meter-message").removeClass().addClass("password-meter-message").addClass("password-meter-message-"+a.messageKey).text(t.validator.passwordRating.messages[a.messageKey]),a.rate>2},"&nbsp;"),t.validator.classRuleSettings.password={password:!0}}(jQuery),function(t){var e={init:function(e){var s={url:"/admin/test-paths/"};return this.each(function(){var i=t(this),n=t(this).data("path_file_tests");n||(e&&t.extend(s,e),i.data("path_file_tests",{}),i.after('<img class="loader" style="visibility:hidden;" src="/assets/common/images/icons/loader-black.gif"/>'),i.after('<img class="reload" src="/assets/common/images/icons/reload.png"/>'),i.after('<img class="status btn-img" src="/assets/common/images/icons/delete.png" width="16"/>'),i.bind("keyup blur",function(){var e=i.nextAll(".loader"),n=i.nextAll(".status"),r=[];if(i.data("ajax_path_test")&&"function"==typeof i.data("ajax_path_test").abort&&i.data("ajax_path_test").abort(),i.hasClass("test_executable")||i.hasClass("test_writeable")||i.hasClass("test_readable")){if(!i.hasClass("required")&&""===t.trim(i.val()))return void n.css("visibility","hidden");i.hasClass("test_executable")&&r.push("executable"),i.hasClass("test_writeable")&&r.push("writeable"),i.hasClass("test_readable")&&r.push("readable");var a=t.ajax({dataType:"json",type:"GET",url:s.url,data:{path:i.val(),tests:r},beforeSend:function(){e.css("visibility","visible")},success:function(t){return e.css("visibility","hidden"),i.hasClass("required")&&i.addClass("field_error"),!i.hasClass("test_executable")||t.executable!==!1&&t.file===!0?i.hasClass("test_writeable")&&t.results===!1?void n.attr("src","/assets/common/images/icons/delete.png").css("visibility","visible"):i.hasClass("test_readable")&&t.results===!1?void n.attr("src","/assets/common/images/icons/delete.png").css("visibility","visible"):(n.attr("src","/assets/common/images/icons/ok.png").css("visibility","visible"),void i.removeClass("field_error")):void n.attr("src","/assets/common/images/icons/delete.png").css("visibility","visible")},timeout:function(){e.css("visibility","hidden"),n.attr("src","/assets/common/images/icons/delete.png").css("visibility","visible")},error:function(){e.css("visibility","hidden"),n.attr("src","/assets/common/images/icons/delete.png").css("visibility","visible")}});i.data("ajax_path_test",a)}}),i.trigger("keyup"),i.nextAll(".reload").bind("click",function(){i.trigger("keyup")}))})},destroy:function(){return this.each(function(){t(this).data("path_file_tests",null)})}};t.fn.path_file_test=function(s){return e[s]?e[s].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof s&&s?void t.error("Method "+s+" does not exist on jQuery.path_file_test"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(e){var s={url:"/admin/tests/pathurl/url/"};return this.each(function(){var i=t(this),n=t(this).data("url_tests");n||(e&&t.extend(s,e),i.data("url_tests",{}),i.after('<img class="loader" style="visibility:hidden;" src="/assets/common/images/icons/loader-black.gif"/>'),i.after('<img class="reload" src="/assets/common/images/icons/reload.png"/>'),i.after('<img class="status" src="/assets/common/images/icons/delete.png"/>'),i.bind("keyup blur",function(){var e=t(this).nextAll(".loader"),n=t(this).nextAll(".status"),r=i.hasClass("listable"),a=i.hasClass("required"),o=i.hasClass("same_domain"),u=t.trim(i.val());if(!a&&""===u)return void n.attr("src","/assets/common/images/icons/ok.png");if(a&&""===u)return void n.attr("src","/assets/common/images/icons/delete.png");o&&"/"!=u.substring(0,1)&&(u="/"+u),o&&(u=location.protocol+"//"+location.hostname+u),i.data("ajax_url_test")&&"function"==typeof i.data("ajax_url_test").abort&&i.data("ajax_url_test").abort();var l=t.ajax({type:"GET",url:s.url,dataType:"json",data:{url:u},beforeSend:function(){e.css("visibility","visible")},success:function(t){return e.css("visibility","hidden"),404===t.code?void n.attr("src","/assets/common/images/icons/delete.png"):void(r||403!==t.code?n.attr("src","/assets/common/images/icons/delete.png"):n.attr("src","/assets/common/images/icons/ok.png"))},timeout:function(){e.css("visibility","hidden"),n.attr("src","/assets/common/images/icons/delete.png")},error:function(t){e.css("visibility","hidden"),n.attr("src","/assets/common/images/icons/delete.png")}});i.data("ajax_url_test",l)}),i.trigger("keyup"),i.nextAll(".reload").bind("click",function(){i.trigger("keyup")}))})},destroy:function(){return this.each(function(){t(this).data("url_tests",null)})}};t.fn.url_test=function(s){return e[s]?e[s].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof s&&s?void t.error("Method "+s+" does not exist on jQuery.url_test"):e.init.apply(this,arguments)}}(jQuery);